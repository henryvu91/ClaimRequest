<!--
  Created by IHau - IntelliJ IDEA.
  User: Wkog
  Date: 08/01/2024
  Time: 6:37 PM
  To change this template use File | Settings | File Templates.
-->
<!DOCTYPE html>
<html lang="vi" th:replace="~{layout/template::areas(~{::title}, ~{::main}, ~{::script})}"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Edit Project</title>
</head>
<body>
<main>
    <div>
        <div class="border-bottom border-1 mb-5 p-2">
            <h1>Edit Project</h1>
        </div>
        <div class="border border-1 rounded-3 mb-5">
            <div class="border-bottom border-1 bg-body-secondary">
                <p class="p-2 m-0">Project Information</p>
            </div>
            <div class="p-3">
                <form id="form-editProject" method="post" novalidate th:action="@{/project/edit}"
                      th:object="${editProjectForm}">
                    <div class="mb-3" th:if="${not #strings.isEmpty(message)}">
                        <div class="alert alert-danger py-2 px-3" role="alert"
                             th:text="${message}">
                        </div>
                    </div>
                    <input hidden name="projectId" th:value="*{projectId}" type="text">

                    <div class="mb-3">
                        <label class="form-label" for="form-editProject__code">Code</label>
                        <input class="form-control shadow-none reset" disabled id="form-editProject__code"
                               th:value="*{projectCode}"
                               type="text">
                    </div>

                    <div class="mb-3">
                        <label class="form-label" for="form-editProject__name">Name</label>
                        <input class="form-control shadow-none reset" disabled id="form-editProject__name"
                               th:value="*{projectName}" type="text">
                    </div>

                    <div class="mb-3">
                        <label class="form-label" for="form-editProject__duration">Duration</label>
                        <input class="form-control shadow-none reset duration" disabled id="form-editProject__duration"
                               name="projectDuration"
                               placeholder=""
                               type="text">
                    </div>

                    <div class="mb-3">
                        <label class="form-label" for="form-editProject__startDate">Start Date</label>
                        <input class="form-control shadow-none reset start-date" disabled
                               id="form-editProject__startDate" th:value="*{projectStartDate}" type="date">
                    </div>

                    <div class="mb-3">
                        <label class="form-label" for="form-editProject__endDate">End Date</label>
                        <input class="form-control shadow-none reset end-date" id="form-editProject__endDate"
                               th:value="*{projectEndDate}" type="date">
                        <div class="text-danger" th:errors="*{projectEndDate}"
                             th:if="${#fields.hasErrors('projectEndDate')}">
                            Error Message
                        </div>
                    </div>
                    <div class="border border-1 rounded-3 mb-5">
                        <div class="border-bottom border-1 bg-body-secondary">
                            <p class="p-2 m-0">Information of staff participating in the project</p>
                        </div>
                        <div class="p-3">
                            <table class="table">
                                <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Name</th>
                                    <th scope="col">Job Rank</th>
                                    <th scope="col">Start Date</th>
                                    <th scope="col">End Date</th>
                                    <th scope="col">Action</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="projectWorking, iterStat : ${editProjectForm.projectWorkingsById}">
                                    <input hidden="hidden" th:value="${projectWorking.workingId}" type="text">
                                    <th scope="row" th:text="${iterStat.count}"></th>
                                    <td>
                                        <input class="form-control shadow-none reset" disabled
                                               th:id="form-editProject__workingStaffName- + ${iterStat.count}"
                                               th:value="${projectWorking.workingStaffName}"
                                               type="text">
                                    </td>
                                    <td>
                                        <input class="form-control shadow-none reset" disabled
                                               th:id="form-editProject__workingJobRankName- + ${iterStat.count}"
                                               th:value="${projectWorking.workingJobRankName}"
                                               type="text">
                                    </td>
                                    <td>
                                        <input class="form-control shadow-none reset" disabled
                                               th:id="form-editProject__workingStartDate- + ${iterStat.count}"
                                               th:value="${projectWorking.workingStartDate}"
                                               type="date">
                                    </td>
                                    <td>
                                        <input class="form-control shadow-none reset"
                                               th:id="form-editProject__workingEndDate- + ${iterStat.count}"
                                               th:value="${projectWorking.workingEndDate}"
                                               type="date">
                                    </td>
                                    <td>
                                        <div class="btn-box-editProjectForm d-flex justify-content-around">
                                            <button class="btn btn-outline-primary edit-record-btn"
                                                    id="btn-editWorking-editRecord"
                                                    type="button">
                                                Edit
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">X</th>
                                    <td>
                                        <div class="autocomplete-dropdown position-relative">
                                            <input class="autocomplete-staff-id"
                                                   name="projectWorkingsById[2].workingStaffId"
                                                   type="hidden">
                                            <input class="form-control shadow-none reset autocomplete-input"
                                                   id="form-addProject__workingStaffId-03" name="workingStaffName"
                                                   placeholder="Enter The Staff Name"
                                                   type="text">

                                            <div class="dropdown-menu overflow-auto w-100 autocomplete-results position-absolute mt-2"></div>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <select aria-label="Select Job Rank" class="form-select jobRankSelect"
                                                    name="projectWorkingsById[2].workingJobRankId">
                                            </select>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="autocomplete-dropdown">
                                            <label class="form-label" for="form-addWorking__startDate-03"
                                                   hidden="hidden"></label>
                                            <input class="form-control shadow-none reset startDateRecord"
                                                   id="form-addWorking__startDate-03"
                                                   name="projectWorkingsById[2].workingStartDate"
                                                   type="date">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="autocomplete-dropdown">
                                            <label class="form-label" for="form-addWorking__endDate-03"
                                                   hidden="hidden"></label>
                                            <input class="form-control shadow-none reset startDateRecord"
                                                   id="form-addWorking__endDate-03"
                                                   name="projectWorkingsById[2].workingStartDate"
                                                   type="date">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="btn-box-addProjectForm d-flex justify-content-around">
                                            <button class="btn btn-outline-secondary new-record-btn"
                                                    id="btn-addWorking-newRecord"
                                                    type="button">
                                                New Record
                                            </button>
                                            <button class="btn btn-outline-danger delete-record-btn"
                                                    id="btn-addWorking-deleteRecord"
                                                    type="button">
                                                Delete Record
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <button class="btn btn-outline-secondary" type="submit">Submit button</button>
                    <button class="btn btn-outline-secondary resetDataForm" type="button">Reset button</button>
                </form>
            </div>
        </div>
    </div>
</main>
<script th:src="@{/javascript/project/edit.js}"></script>
</body>
</html>
